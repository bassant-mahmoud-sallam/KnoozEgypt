@if (placeDetails) {
  <div class="page">

  <app-navbar variant="purple"></app-navbar>

  <div class="top">
    <a class="back" (click)="goBack()">
      <span class="arrow">‚Üê</span>
      Back
    </a>
  </div>


  <!-- Hero Card -->
  <div class="hero-card">

    <!-- Bookmark -->
    <button class="save"  aria-label="Save place" (click)="toggleSave($event)" [class.active]="placeDetails.is_saved">
      <svg class="bm" viewBox="0 0 24 24" fill="none">
        <path
          d="M6.5 3.8c0-.9.7-1.6 1.6-1.6h7.8c.9 0 1.6.7 1.6 1.6v17.7c0 .6-.7 1-1.2.7l-5.3-3.2a1.6 1.6 0 0 0-1.6 0l-5.3 3.2c-.5.3-1.2-.1-1.2-.7V3.8Z"
          class="bm-path"
        />
      </svg>
    </button>

    <img class="hero" [src]="placeDetails.media[0].image_url" [alt]="placeDetails.name" />

    <div class="hero-info">
      <h1>{{ placeDetails.name }}</h1>

      <div class="meta">

        <div class="rate">
          <app-star-rating [rating]="placeDetails.rating"></app-star-rating>
          <span class="mx-2">{{placeDetails.rating}}</span>
          <span>{{placeDetails.views_count}}</span>
        </div>

        <span class="pin">üìç</span>
        <span class="loc">{{ placeDetails.governorate.name }}</span>
      </div>
    </div>
  </div>

  <!-- Gallery -->
  <div class="gallery">
    @for (img of placeDetails.media; track img.id) {
      <img [src]="img.image_url" [alt]="placeDetails.name">
    }
  </div>

  <!-- About -->
  <div class="section">
    <h2>About</h2>
    <p>{{ placeDetails.description }}</p>
  </div>

  <!-- Map Card -->
  <div class="map-card">

    @if (mapsEmbedUrl) {
      <div class="map">
      <iframe
        [src]="mapsEmbedUrl"
        width="100%"
        height="220"
        style="border:0;"
        loading="lazy"
        referrerpolicy="no-referrer-when-downgrade">
      </iframe>
    </div>
    }

    <div class="map-footer">
      <div class="left">
        <div class="title">
          <span class="pin2">üìç</span>
          {{ placeDetails.name }}
        </div>
        <div class="sub">
          {{ placeDetails.governorate.name }}
        </div>
      </div>

      @if (directionsUrl) {
        <a class="dir" [href]="directionsUrl" target="_blank">
          Directions <span class="arr">‚Ä∫</span>
        </a>
      }
    </div>

  </div>

  <!-- tickts & hours -->


<div id="accordion-collapse" data-accordion="collapse" class="mx-[48px] my-[30px]">
  <h2 id="accordion-collapse-heading-1">
    <button type="button" class="bg-[#5b21b6e6] hover:text-[#2b2156] text-white flex items-center justify-between w-full p-5 font-medium rtl:text-right  border border-b-0 border-gray-200 rounded-t-xl focus:ring-4 focus:ring-gray-200  hover:bg-[#f6c453f2]  gap-3" data-accordion-target="#accordion-collapse-body-1" aria-expanded="true" aria-controls="accordion-collapse-body-1">
      <span>Opening Hours</span>
      <svg data-accordion-icon class="w-3 h-3 rotate-180 shrink-0" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 6">
        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5 5 1 1 5"/>
      </svg>
    </button>
  </h2>
  <div id="accordion-collapse-body-1" class="hidden" aria-labelledby="accordion-collapse-heading-1">
    <div class="p-5 border border-b-0 border-gray-200 ">
      <p class="mb-2 text-gray-500 ">Open Time: <span>{{placeDetails.opening_hours.open_time}}</span></p>
      <p class="text-gray-500 ">Close Time: <span>{{placeDetails.opening_hours.close_time}}</span></p>
    </div>
  </div>
  @if (placeDetails.best_time_to_visit) {
    <h2 id="accordion-collapse-heading-2">
    <button type="button" class="bg-[#5b21b6e6] hover:text-[#2b2156]  text-white flex items-center justify-between w-full p-5 font-medium rtl:text-right  border border-b-0 border-gray-200 focus:ring-4 focus:ring-gray-200  hover:bg-[#f6c453f2] " data-accordion-target="#accordion-collapse-body-2" aria-expanded="false" aria-controls="accordion-collapse-body-2">
      <span>Best Time to Visit</span>
      <svg data-accordion-icon class="w-3 h-3 rotate-180 shrink-0" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 6">
        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5 5 1 1 5"/>
      </svg>
    </button>
  </h2>
  <div id="accordion-collapse-body-2" class="hidden" aria-labelledby="accordion-collapse-heading-2">
    <div class="p-5 border border-b-0 border-gray-200 ">
      <p class="mb-2 text-gray-500 ">{{placeDetails.best_time_to_visit}}</p>
    </div>
  </div>
  }
  <h2 id="accordion-collapse-heading-3">
    <button type="button" class="bg-[#5b21b6e6] hover:text-[#2b2156] text-white flex items-center justify-between w-full p-5 font-medium rtl:text-right  border border-gray-200 focus:ring-4 focus:ring-gray-200  hover:bg-[#f6c453f2] gap-3" data-accordion-target="#accordion-collapse-body-3" aria-expanded="false" aria-controls="accordion-collapse-body-3">
      <span>Ticket Prices</span>
      <svg data-accordion-icon class="w-3 h-3 rotate-180 shrink-0" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 6">
        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5 5 1 1 5"/>
      </svg>
    </button>
  </h2>
  <div id="accordion-collapse-body-3" class="hidden" aria-labelledby="accordion-collapse-heading-3">
    <div class="p-5 border border-t-0 border-gray-200 ">
      @for (price of placeDetails.ticket_prices; track price.id) {
        <p class="mb-2 text-gray-500 ">{{price.visitor_type}}: <span>{{price.price}}</span><span>{{price.currency}}</span></p>
      }
    </div>
  </div>
</div>














<!-- button resturant -->
  <a class="nearby-btn">
  <span class="nearby-btn__icon" aria-hidden="true">
    <!-- fork & knife icon -->
    <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
      <path d="M8 2v8" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
      <path d="M6 2v8" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
      <path d="M10 2v8" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
      <path d="M8 10v12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>

      <path d="M16 2v6c0 2 2 2 2 0V2" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
      <path d="M18 8v14" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
    </svg>
  </span>

  <span class="nearby-btn__text">Nearby Restaurants</span>

  <span class="nearby-btn__arrow" aria-hidden="true">
    <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
      <path d="M9 18l6-6-6-6" stroke="currentColor" stroke-width="2"
            stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
  </span>
</a>

</div>
}
