<section class="signin">
  <div class="signin__left">
    <div class="signin__brand">
      <img class="signin__logo" src="/images/logo5.png" alt="Knooz Egypt" />
    </div>
  </div>

  <div class="signin__right">
    <div class="signin__formWrap">
      <h2 class="signin__heading">Sign In</h2>

      <form (ngSubmit)="submit()" [formGroup]="signInForm" class="signin__form">

        <!-- Email input -->
        <div class="mb-4">
          @let emailControl = signInForm.get("email");

          <div class="relative">
            <span class="signin__icon">
              <!-- mail icon -->
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
                <path d="M4 6h16v12H4V6Z" stroke="currentColor" stroke-width="2"/>
                <path d="m4 7 8 6 8-6" stroke="currentColor" stroke-width="2"/>
              </svg>
            </span>

            <input
              type="email"
              formControlName="email"
              class="flowbite-input"
              placeholder="name@email.com"
            />
          </div>

          <!-- error email -->
          @if(emailControl?.errors && emailControl?.touched) {
              @if(emailControl?.getError("required")) {
                  <p class="signin__hint">Email is required.</p>
              }
              @if(emailControl?.getError("email")) {
                <p class="signin__hint">Please enter a valid email.</p>
              }
          }
        </div>

        <!-- Password input -->
        <div class="mb-4">
          @let passwordControl = signInForm.get("password");

          <div class="relative">
            <span class="signin__icon">
              <!-- lock icon -->
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
                <path d="M7 11V8a5 5 0 0 1 10 0v3" stroke="currentColor" stroke-width="2"/>
                <path d="M6 11h12v10H6V11Z" stroke="currentColor" stroke-width="2"/>
              </svg>
            </span>

            <input
              type="password"
              formControlName="password"
              class="flowbite-input"
              placeholder="Password"
            />
          </div>

          <!-- error password -->
          @if(passwordControl?.errors && passwordControl?.touched) {
            @if(passwordControl?.getError("required")) {
              <p class="signin__hint">Password is required</p>
            }
          }
          @if(passwordControl?.getError("minlength")) {
            <p class="signin__hint">Password must be at least 6 characters.</p>
          }
        </div>


        <!-- Button -->
        <button type="submit" class="flowbite-btn" [disabled]="signInForm.invalid || loading" >
          Sign In
          @if(loading) {
            <i class="fas fa-spin fa-spinner"></i>
          }
        </button>

        <!-- msg from bcakend -->
        @if(errorMsgUserNotSignIN) {
          <p class="text-white bg-red-500 px-2 py-4 border shadow rounded my-2">{{errorMsgUserNotSignIN}}</p>
        }
        @if(successMsgUserSignIN) {
          <p class="text-white bg-[#673ab7] px-2 py-4 border shadow rounded my-2">{{successMsgUserSignIN}}</p>
        }

        <!-- Create account -->
        <p class="signin__footer">
          Donâ€™t have an account?
          <a routerLink="/createaccount" class="signin__link">Create Account</a>
        </p>
      </form>
    </div>
  </div>
</section>

